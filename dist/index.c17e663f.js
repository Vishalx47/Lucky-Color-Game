"use strict";const myMoney=document.querySelector(".payment__total-amount"),colorButtons=document.querySelectorAll(".color__button"),numberButtons=document.querySelectorAll(".number__button"),currPeriod=document.querySelector(".period"),currTime=document.querySelector(".timer"),resultContainer=document.querySelector(".result__container"),popUp=document.querySelector(".pop-up-bet"),cancelButton=document.querySelector(".bet__cancel"),confirmButton=document.querySelector(".bet__confirm"),inputAmount=document.querySelector(".bet__controls-input"),amountButtons=document.querySelectorAll(".bet__controls-button"),amountTypeButton=document.querySelectorAll(".bet__amount-button"),popHeading=document.querySelector(".bet__heading"),loader=document.querySelector(".loader");let id=0;const addMoney=500;myMoney.textContent=500;const showResultTime=2e3,userBet={color:"",number:"",betAmount:"",userResult:"",gameId:""};let userBetHistory=[];function removeBackgroundColor(){popHeading.classList.remove("bet__heading--red"),popHeading.classList.remove("bet__heading--voilet"),popHeading.classList.remove("bet__heading--green")}const html=function(e){const t=`\n          <div class="result__details">\n            <h4 class="result__details-period">${(e.gameId-1).toString().padStart(2,"0")}</h4>\n            <h4 class="result__details-price result__details-price--${e.gameResult}">\n              ${"win"===e.gameResult?"+":"-"}₹${e.gameBetAmount}\n            </h4>\n            <h4 class="result__details-number">${e.gameBetNumber.toString().padStart(2,"0")}</h4>\n            <h4 class="result__details-result result__details-result--${e.gameBetColor}">\n              <span></span>\n            </h4>\n          </div>`;resultContainer.insertAdjacentHTML("afterbegin",t)};function warning(){document.querySelector(".not-enough-money").style.opacity="1",document.querySelector(".bet__container").classList.add("animation-active"),setTimeout((()=>{document.querySelector(".not-enough-money").style.opacity="0",document.querySelector(".bet__container").classList.remove("animation-active")}),2e3)}const colors=["red","voilet","green"];let randomColors=colors[Math.floor(3*Math.random())];const number=[1,2,3,4,5,6,7,8];let randomNumber=number[Math.floor(8*Math.random())];colorButtons.forEach((e=>{e.addEventListener("click",(t=>{const o=e.dataset.color;removeBackgroundColor(),popHeading.classList.add(`bet__heading--${o}`),popHeading.textContent=`Join ${o}`,popUp.classList.add("popup-active"),userBet.color=o}))})),numberButtons.forEach((e=>{e.addEventListener("click",(function(t){const o=e.dataset.number;popUp.classList.add("popup-active"),removeBackgroundColor(),popHeading.textContent=`Join ${o.toString().padStart(2,"0")}`,userBet.number=o}))})),cancelButton.addEventListener("click",(function(e){popUp.classList.remove("popup-active")})),amountTypeButton.forEach((e=>{e.addEventListener("click",(t=>{const o=+e.dataset.amount;inputAmount.value=o,document.querySelector(".bet__controls-increase").dataset.curramount=`+${o}`,document.querySelector(".bet__controls-decrease").dataset.curramount=`-${o}`}))})),amountButtons.forEach(((e,t)=>{e.addEventListener("click",(t=>{if(e.classList.contains("bet__controls-decrease")&&+inputAmount.value<10)return;let o=+e.dataset.curramount,n=+inputAmount.value+o;inputAmount.value=n}))})),confirmButton.addEventListener("click",(function(e){if(+inputAmount.value>+myMoney.textContent)return document.querySelector(".not-enough-money").textContent="Not enough balance",void warning();if(+inputAmount.value<10)return document.querySelector(".not-enough-money").textContent="Bet amount is not enough minimum is ₹10",void warning();loader.classList.add("loader-active"),resultContainer.style.opacity="0.2",popUp.classList.remove("popup-active");const t=inputAmount.value;userBet.betAmount=t,randomColors=colors[Math.floor(3*Math.random())],randomNumber=number[Math.floor(8*Math.random())],window.setTimeout((()=>{if(loader.classList.remove("loader-active"),resultContainer.style.opacity="1",userBet.gameId=++id,+inputAmount.value<=+myMoney.textContent&&+inputAmount.value>=10&&userBet.color||userBet.number){userBet.color&&userBet.color===randomColors?(myMoney.textContent=`${Number(myMoney.textContent)+Number(userBet.betAmount)}`,userBet.userResult="win"):+userBet.number&&+userBet.number===randomNumber?(myMoney.textContent=`${Number(myMoney.textContent)+8*Number(userBet.betAmount)}`,userBet.userResult="win",userBet.betAmount=8*+userBet.betAmount):userBet.color!==randomColors&&userBet.number!==randomNumber&&(myMoney.textContent=""+(Number(myMoney.textContent)-Number(userBet.betAmount)),userBet.userResult="loss");const e={gameBetColor:randomColors,gameBetNumber:randomNumber,gameResult:userBet.userResult,gameBetAmount:userBet.betAmount,gameId:id,userAmount:myMoney.textContent};html(e),userBetHistory.push(e),localStorage.setItem("bets",JSON.stringify(userBetHistory)),currPeriod.textContent=`${id}`.toString().padStart(2,"0")}userBet.color="",userBet.number=""}),2e3)})),function(){const e=JSON.parse(localStorage.getItem("bets"));if(!e)return;userBetHistory=e,e.map((e=>{html(e)})).join(" ");const t=e[e.length-1];console.log(t),myMoney.textContent=t.userAmount,id=t.gameId,document.querySelector(".period").textContent=id.toString()}(),document.querySelector(".reset__game").addEventListener("click",(e=>{window.localStorage.clear(),window.location.reload()}));
//# sourceMappingURL=index.c17e663f.js.map
